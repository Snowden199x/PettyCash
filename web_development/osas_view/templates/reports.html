<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PockiTrack | Financial Reports</title>

    <!-- ===== CSS LINK ===== -->
    <link
      rel="stylesheet"
      href="{{ url_for('osas.static', filename='css/reports.css') }}"
    />

    <!-- ===== JS ===== -->
    <script src="{{ url_for('osas.static', filename='js/reports.js') }}"></script>
    
    <!-- ===== GOOGLE FONT ===== -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- HEADER -->
    <header class="admin-header">
      <div class="logo">
        <img
          src="{{ url_for('osas.static', filename='images/pocki_logo.png') }}"
          alt="PockiTrack Logo"
        />
        <span class="logo_name">PockiTrack</span>
      </div>
      <div class="menu-icon">
        <img
          src="{{ url_for('osas.static', filename='images/menu.png') }}"
          alt="Menu"
        />
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="dashboard">
      <!-- PAGE HEADER -->
      <section class="page-header">
        <div>
          <h1>Financial Reports</h1>
          <p>Track and manage organization report submissions</p>
        </div>
        <div class="filter-controls">
          <select id="statusFilter" class="filter-select">
            <option value="all">All Status</option>
            <option value="pending">Pending</option>
            <option value="in-review">In Review</option>
            <option value="completed">Completed</option>
          </select>
          <input 
            type="text" 
            id="searchReports" 
            placeholder="Search organizations..."
            class="search-input"
          />
        </div>
      </section>

      <!-- REPORTS GRID -->
      <section class="reports-section">
        <!-- Empty State -->
        <div class="empty-state" id="emptyState">
          <img
            src="{{ url_for('osas.static', filename='images/empty_org.png') }}"
            alt="No Reports"
          />
          <h4>No Reports Available</h4>
          <p>Organizations will appear here once they start submitting financial reports.</p>
        </div>

        <!-- Reports Grid -->
        <div class="reports-grid" id="reportsGrid" style="display: none;"></div>
      </section>

      <!-- REPORT DETAILS MODAL -->
      <div id="reportModal" class="modal">
        <div class="modal-box report-modal">
          <div class="modal-header">
            <div>
              <h2 id="modalOrgName">Organization Name</h2>
              <p id="modalSubmissionDate">Submitted on: N/A</p>
            </div>
            <button class="close-btn" id="closeModal">&times;</button>
          </div>

          <!-- STATUS BADGE -->
          <div class="status-section">
            <label>Report Status</label>
            <select id="reportStatus" class="status-select">
              <option value="pending">Pending Review</option>
              <option value="in-review">In Review</option>
              <option value="completed">Completed</option>
            </select>
          </div>

          <!-- REQUIRED DOCUMENTS CHECKLIST -->
          <div class="checklist-section">
            <h3>Required Documents</h3>
            <p class="section-subtitle">Check off documents as they are submitted and verified</p>
            
            <div class="checklist" id="documentChecklist">
              <label class="checkbox-item">
                <input type="checkbox" data-doc="balance-sheet" />
                <span>Balance Sheet</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" data-doc="income-statement" />
                <span>Income Statement</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" data-doc="cash-flow" />
                <span>Cash Flow Statement</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" data-doc="budget-proposal" />
                <span>Budget Proposal</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" data-doc="receipts" />
                <span>Receipts & Supporting Documents</span>
              </label>
              <label class="checkbox-item">
                <input type="checkbox" data-doc="audit-report" />
                <span>Audit Report (if applicable)</span>
              </label>
            </div>
          </div>

          <!-- ADMIN NOTES -->
          <div class="notes-section">
            <h3>Admin Notes</h3>
            <p class="section-subtitle">Add feedback or requirements for the organization</p>
            <textarea 
              id="adminNotes" 
              placeholder="e.g., Missing updated receipts for Q3 expenses. Balance sheet needs treasurer signature..."
              rows="6"
            ></textarea>
          </div>

          <!-- MODAL ACTIONS -->
          <div class="modal-buttons">
            <button type="button" id="cancelModal" class="secondary-btn">Cancel</button>
            <button type="button" id="saveReport" class="primary-btn">Save Changes</button>
          </div>
        </div>
      </div>

      <!-- SUCCESS/ERROR TOAST -->
      <div id="toast" class="toast"></div>

      <!-- SIDE MENU -->
      <div id="sideMenu" class="side-menu">
        <div class="side-menu-content">
          <h3>Admin Menu</h3>
          <ul>
            <li><a href="{{ url_for('osas.osas_dashboard') }}">Dashboard</a></li>
            <li><a href="{{ url_for('osas.osas_reports') }}">Reports</a></li>
            <li><a href="{{ url_for('osas.osas_settings') }}">Settings</a></li>
          </ul>
          <a href="{{ url_for('osas.osas_logout') }}" class="logout-btn">Log Out</a>
        </div>
      </div>
    </main>
  </body>
</html>