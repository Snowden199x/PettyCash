<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>PockiTrack | Home</title>

    <link
      rel="stylesheet"
      href="{{ url_for('pres.static', filename='css/homepage.css') }}"
    />

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="top-bar">
  <div class="top-bar-left">
    <a href="{{ url_for('pres.homepage') }}" class="logo">
  <img
    src="{{ url_for('pres.static', filename='images/pocki_logo.png') }}"
    alt="PockiTrack Logo"
  />
  <span class="logo_name">PockiTrack</span>
</a>
  </div>

  <div class="top-bar-right">
    <div class="search-bar">
      <input
        type="text"
        id="header-search"
        placeholder="Search wallets or transactions..."
      />
    </div>

    <div class="profile-dropdown">
      <button class="profile-btn" id="profile-dropdown-toggle">
  <img
    src="{{ profile_picture or url_for('pres.static', filename='images/default_profile.png') }}"
    alt="Profile"
    class="profile-avatar"
  />
  <span class="profile-name">{{ session['org_name'] }}</span>
  <span class="profile-caret">â–¼</span>
</button>
      <div class="profile-menu" id="profile-menu">
        <a href="{{ url_for('pres.profile') }}">Profile</a>
        <a href="{{ url_for('pres.pres_logout') }}">Logout</a>
      </div>
    </div>
  </div>
</div>
    <div class="container">
      <!-- Sidebar -->
      <aside class="sidebar">

        <!-- Sidebar content below logo -->
        <div class="sidebar-content">

          <!-- Navigation Menu -->
          <nav class="nav-menu">
            <a href="{{ url_for('pres.homepage') }}" class="nav-item active">
              <img
                src="{{ url_for('pres.static', filename='images/nav_home.png') }}"
                alt="Home Icon"
              />
              Home
            </a>

            <a href="{{ url_for('pres.history') }}" class="nav-item">
              <img
                src="{{ url_for('pres.static', filename='images/nav_history.png') }}"
                alt="History Icon"
              />
              History
            </a>

            <a href="{{ url_for('pres.wallets') }}" class="nav-item">
              <img
                src="{{ url_for('pres.static', filename='images/nav_wallet.png') }}"
                alt="Wallet Icon"
              />
              Wallets
            </a>

            <a href="{{ url_for('pres.profile') }}" class="nav-item">
              <img
                src="{{ url_for('pres.static', filename='images/nav_profile.png') }}"
                alt="Profile Icon"
              />
              Profile
            </a>
          </nav>
        </div>

      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <div class="content-box">

          <!-- header ALWAYS visible -->
          <section class="header">
            <h3>Hello, <span id="username">{{ session['org_name'] }}</span></h3>
            <p class="date-text"></p>
          </section>

          <!-- LOADING OVERLAY (centered in the remaining area) -->
          <div id="dashboard-loader">
            <div class="loading-card">
              <img src="/pres/static/images/nav_home.png" alt="Loading icon" />
              <h4>Loading informations...</h4>
              <p>Please wait a moment.</p>
            </div>
          </div>

          <!-- DASHBOARD CONTENT (HIDDEN AT FIRST) -->
          <div id="dashboard-content" style="display: none;">

            <div class="summary-wrapper">
              <div class="summary">
                <div class="card">
                  <p>Total balance</p>
                  <h2 id="total-balance">Php 0.00</h2>
                </div>

                <div class="card">
                  <p>Reports Submitted</p>
                  <h2 id="reports-submitted">0</h2>
                </div>

                <div class="card">
                  <p>Income this month</p>
                  <h2 id="income-month">Php 0.00</h2>
                </div>

                <div class="card">
                  <p>Expenses this month</p>
                  <h2 id="expenses-month">Php 0.00</h2>
                </div>
              </div>
            </div>
          </section>

          <div class="overview">
            <div class="wallets">
              <h4>Wallets Overview</h4>
              <div class="overview-box">
                <div id="wallets-container"></div>
              </div>
            </div>

          <div class="transactions">
              <h4>Transaction History</h4>
              <div class="overview-box">
                <div id="transactions-container"></div>
              </div>
          </div>
          </div>
        </div>
      </main>
    </div>

    <script src="{{ url_for('pres.static', filename='js/homepage.js') }}"></script>
  </body>
</html>