<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PockiTrack | Settings</title>

    <!-- ===== CSS LINK ===== -->
    <link
      rel="stylesheet"
      href="{{ url_for('osas.static', filename='css/settings.css') }}"
    />

    <!-- ===== JS ===== -->
    <script src="{{ url_for('osas.static', filename='js/settings.js') }}"></script>
    
    <!-- ===== GOOGLE FONT ===== -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- HEADER -->
    <header class="admin-header">
      <div class="logo">
        <img
          src="{{ url_for('osas.static', filename='images/pocki_logo.png') }}"
          alt="PockiTrack Logo"
        />
        <span class="logo_name">PockiTrack</span>
      </div>
      <div class="menu-icon">
        <img
          src="{{ url_for('osas.static', filename='images/menu.png') }}"
          alt="Menu"
        />
      </div>
    </header>

    <!-- MAIN CONTENT -->
    <main class="dashboard">
      <!-- PAGE HEADER -->
      <section class="page-header">
        <div>
          <h1>Settings</h1>
          <p>Manage your account and system preferences</p>
        </div>
      </section>

      <!-- SETTINGS CONTAINER -->
      <div class="settings-container">
        <!-- SIDEBAR NAVIGATION -->
        <aside class="settings-sidebar">
          <nav class="settings-nav">
            <button class="nav-item active" data-section="profile">
              <span class="nav-icon">üë§</span>
              <span>Profile Settings</span>
            </button>
            <button class="nav-item" data-section="security">
              <span class="nav-icon">üîí</span>
              <span>Account Security</span>
            </button>
            <button class="nav-item" data-section="activity">
              <span class="nav-icon">üìã</span>
              <span>Activity Logs</span>
            </button>
            <button class="nav-item" data-section="display">
              <span class="nav-icon">üé®</span>
              <span>Display & Theme</span>
            </button>
            <button class="nav-item" data-section="about">
              <span class="nav-icon">‚ÑπÔ∏è</span>
              <span>About System</span>
            </button>
          </nav>
        </aside>

        <!-- SETTINGS CONTENT -->
        <div class="settings-content">
          
          <!-- PROFILE SETTINGS SECTION -->
          <section class="settings-section active" id="profile">
            <div class="section-header">
              <h2>Profile Settings</h2>
              <p>Update your account information</p>
            </div>

            <div class="settings-card">
              <form id="profileForm">
                <div class="form-group">
                  <label for="adminName">Full Name</label>
                  <input type="text" id="adminName" name="adminName" placeholder="Admin Name" required />
                </div>

                <div class="form-group">
                  <label for="adminEmail">Email Address</label>
                  <input type="email" id="adminEmail" name="adminEmail" placeholder="admin@school.edu" required />
                </div>

                <div class="form-group">
                  <label for="adminUsername">Username</label>
                  <input type="text" id="adminUsername" name="adminUsername" placeholder="admin_user" required />
                </div>

                <div class="form-actions">
                  <button type="submit" class="primary-btn">Save Changes</button>
                </div>
              </form>
            </div>
          </section>

          <!-- SECURITY SECTION -->
          <section class="settings-section" id="security">
            <div class="section-header">
              <h2>Account Security</h2>
              <p>Manage your password and active sessions</p>
            </div>

            <!-- Change Password Card -->
            <div class="settings-card">
              <h3>Change Password</h3>
              <form id="passwordForm">
                <div class="form-group">
                  <label for="currentPassword">Current Password</label>
                  <input type="password" id="currentPassword" name="currentPassword" required />
                </div>

                <div class="form-group">
                  <label for="newPassword">New Password</label>
                  <input type="password" id="newPassword" name="newPassword" required />
                </div>

                <div class="form-group">
                  <label for="confirmPassword">Confirm New Password</label>
                  <input type="password" id="confirmPassword" name="confirmPassword" required />
                </div>

                <div class="form-actions">
                  <button type="submit" class="primary-btn">Update Password</button>
                </div>
              </form>
            </div>

            <!-- Session Management Card -->
            <div class="settings-card">
              <h3>Active Sessions</h3>
              <p class="card-description">Manage devices that are currently logged into your account</p>
              
              <div class="session-list" id="sessionList">
                <div class="session-item current">
                  <div class="session-info">
                    <p class="session-device">üíª Current Device</p>
                    <p class="session-details">Chrome on Windows ‚Ä¢ Last active: Just now</p>
                  </div>
                  <span class="session-badge">Active</span>
                </div>
              </div>

              <div class="form-actions">
                <button type="button" id="logoutAllBtn" class="danger-btn">Log Out All Other Devices</button>
              </div>
            </div>
          </section>

          <!-- ACTIVITY LOGS SECTION -->
          <section class="settings-section" id="activity">
            <div class="section-header">
              <h2>Activity Logs</h2>
              <p>Track all administrative actions and changes</p>
            </div>

            <div class="settings-card">
              <!-- Filter Controls -->
              <div class="activity-filters">
                <input type="date" id="activityDateFilter" class="filter-input" />
                <select id="activityTypeFilter" class="filter-select">
                  <option value="all">All Actions</option>
                  <option value="login">Login</option>
                  <option value="organization">Organization</option>
                  <option value="report">Report</option>
                  <option value="settings">Settings</option>
                </select>
              </div>

              <!-- Activity List -->
              <div class="activity-list" id="activityList">
                <div class="activity-item">
                  <div class="activity-icon">üîë</div>
                  <div class="activity-details">
                    <p class="activity-action">Logged in</p>
                    <p class="activity-date">Today at 2:45 PM</p>
                  </div>
                </div>

                <div class="activity-item">
                  <div class="activity-icon">‚ûï</div>
                  <div class="activity-details">
                    <p class="activity-action">Added new organization: "Student Council"</p>
                    <p class="activity-date">Nov 18, 2025 at 1:30 PM</p>
                  </div>
                </div>

                <div class="activity-item">
                  <div class="activity-icon">‚úèÔ∏è</div>
                  <div class="activity-details">
                    <p class="activity-action">Updated report status for "Dance Club"</p>
                    <p class="activity-date">Nov 17, 2025 at 4:15 PM</p>
                  </div>
                </div>

                <div class="activity-item">
                  <div class="activity-icon">üóëÔ∏è</div>
                  <div class="activity-details">
                    <p class="activity-action">Deleted organization: "Inactive Org"</p>
                    <p class="activity-date">Nov 16, 2025 at 10:20 AM</p>
                  </div>
                </div>
              </div>

              <button class="secondary-btn load-more-btn" id="loadMoreLogs">Load More</button>
            </div>
          </section>

          <!-- DISPLAY & THEME SECTION -->
          <section class="settings-section" id="display">
            <div class="section-header">
              <h2>Display & Theme</h2>
              <p>Customize your viewing experience</p>
            </div>

            <div class="settings-card">
              <h3>Appearance</h3>
              
              <div class="form-group">
                <label>Theme Mode</label>
                <div class="theme-options">
                  <label class="theme-option active">
                    <input type="radio" name="theme" value="light" checked />
                    <span class="option-content">
                      <span class="option-icon">‚òÄÔ∏è</span>
                      <span class="option-text">Light</span>
                    </span>
                  </label>
                  <label class="theme-option">
                    <input type="radio" name="theme" value="dark" />
                    <span class="option-content">
                      <span class="option-icon">üåô</span>
                      <span class="option-text">Dark</span>
                    </span>
                  </label>
                </div>
              </div>

              <div class="form-group">
                <label for="fontSize">Font Size</label>
                <select id="fontSize" name="fontSize" class="form-select">
                  <option value="small">Small</option>
                  <option value="medium" selected>Medium (Default)</option>
                  <option value="large">Large</option>
                </select>
              </div>

              <div class="form-actions">
                <button type="button" id="saveDisplayBtn" class="primary-btn">Save Preferences</button>
              </div>
            </div>
          </section>

          <!-- ABOUT SYSTEM SECTION -->
          <section class="settings-section" id="about">
            <div class="section-header">
              <h2>About System</h2>
              <p>System information and contact details</p>
            </div>

            <!-- App Info Card -->
            <div class="settings-card">
              <h3>PockiTrack System</h3>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Version</span>
                  <span class="info-value">v1.0.0</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Last Updated</span>
                  <span class="info-value">November 2025</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Platform</span>
                  <span class="info-value">Web Application</span>
                </div>
              </div>
            </div>

            <!-- Institution Info Card -->
            <div class="settings-card">
              <h3>Institution Details</h3>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">School Name</span>
                  <span class="info-value">Laguna State Polytechnic University Campus</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Department</span>
                  <span class="info-value">Office of Student Affairs and Services</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Contact</span>
                  <span class="info-value">osas@university.edu</span>
                </div>
              </div>
            </div>

            <!-- Developer Contact Card -->
            <div class="settings-card">
              <h3>Developer Contact</h3>
              <div class="info-grid">
                <div class="info-item">
                  <span class="info-label">Support Email</span>
                  <span class="info-value">support@pockitrack.com</span>
                </div>
                <div class="info-item">
                  <span class="info-label">Documentation</span>
                  <span class="info-value"><a href="#" class="info-link">View User Guide</a></span>
                </div>
              </div>
            </div>

            <!-- Legal Card -->
            <div class="settings-card">
              <h3>Legal & Privacy</h3>
              <div class="legal-links">
                <a href="#" class="legal-link">Terms of Service</a>
                <a href="#" class="legal-link">Privacy Policy</a>
                <a href="#" class="legal-link">Data Protection</a>
              </div>
            </div>
          </section>

        </div>
      </div>

      <!-- SUCCESS/ERROR TOAST -->
      <div id="toast" class="toast"></div>

      <!-- CONFIRMATION MODAL -->
      <div id="confirmModal" class="modal">
        <div class="modal-box">
          <div class="modal-header">
            <h2>Confirm Action</h2>
            <button class="close-btn" id="closeConfirmModal">&times;</button>
          </div>
          <p id="confirmMessage">Are you sure you want to proceed?</p>
          <div class="modal-buttons">
            <button id="cancelConfirmBtn" class="secondary-btn">Cancel</button>
            <button id="proceedConfirmBtn" class="primary-btn">Confirm</button>
          </div>
        </div>
      </div>

      <!-- SIDE MENU -->
      <div id="sideMenu" class="side-menu">
        <div class="side-menu-content">
          <h3>Admin Menu</h3>
          <ul>
            <li><a href="{{ url_for('osas.osas_dashboard') }}">Dashboard</a></li>
            <li><a href="{{ url_for('osas.osas_reports') }}">Reports</a></li>
            <li><a href="{{ url_for('osas.osas_settings') }}">Settings</a></li>
          </ul>
          <a href="{{ url_for('osas.osas_logout') }}" class="logout-btn">Log Out</a>
        </div>
      </div>
    </main>
  </body>
</html>